<?xml version="1.0"?>
<root>
  <TreeNodesModel>
    <!-- ############################### ACTION NODES ################################# -->
    <Action ID="UpdatePose">
      <input_port name="topic_name">Topic name</input_port>
      <input_port name="queue_size">Topic queue size </input_port>
      <input_port name="output_key">Name of output port to write to</input_port>
    </Action>

    <Action ID="ConvertOdomToPose">
      <input_port name="odom_pose">Pose as a nav_msgs::Odometry message</input_port>
      <output_port name="pose">Pose as a geometry_msgs::PoseStamped message</output_port>
    </Action>

    <Action ID="ControllerService">
      <input_port name="service_name">Name of service</input_port>
      <input_port name="enable">True to enable controls, false to disable controls</input_port>
    </Action>

    <Action ID="SetBlackboardString">
      <input_port name="key">Key to set string to</input_port>
      <input_port name="value">String value</input_port>
    </Action>

    <Action ID="SetRelativeGoal">
      <input_port name="relative_goal">Relative pose goal (refer to bt conversions for specification)</input_port>
      <input_port name="pose">Current pose</input_port>
      <input_port name="yaw_lock">Yaw to lock to. If specified, relative yaw in pose will be ignored.</input_port>
      <input_port name="depth_lock">Depth to lock to. If specified, relative depth in pose will be ignored.</input_port>
      <output_port name="goal">Port to set goal to</output_port>
    </Action>

    <!-- ############################### CONDITION NODES ############################## -->
    
    <Condition ID="IsGoalReached">
        <input_port name="pose">Latest robot pose</input_port>
        <input_port name="goal">Destination</input_port>
        <input_port name="last_pose_update">Timestamp of latest pose update</input_port>
    </Condition>

    <Condition ID="IsGoalUpdated"/>

    <Condition ID="IsPoseUpdated"/>

    <Condition ID="IsDistanceTraveled">
      <input_port name="distance">Distance to check if passed</input_port>
      <input_port name="pose">Latest robot pose</input_port>
    </Condition>

    <Condition ID="IsTimeExpired">
      <input_port name="seconds">Time to check if expired</input_port>
    </Condition>

    <!-- ############################### CONTROL NODES ################################ -->

    <!-- ############################### DECORATOR NODES ############################## -->

  </TreeNodesModel>
</root>
